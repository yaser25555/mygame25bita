# ูุธุงู ุฅุฏุงุฑุฉ ุตูุฑ ุงููุณุชุฎุฏููู ูููุดุฑููู

## ูุธุฑุฉ ุนุงูุฉ

ูุฐุง ุงููุธุงู ูุณูุญ ูููุดุฑููู ุจุฅุฏุงุฑุฉ ุตูุฑ ุงููุณุชุฎุฏููู ูู ุงูุชุทุจููุ ุจูุง ูู ุฐูู ุชุบููุฑ ููุณุญ ุงูุตูุฑ ุงูุดุฎุตูุฉ ูุตูุฑ ุงูุจุฑููุงูู ูุตูุฑ ุงูุบูุงู.

## ุงูููุฒุงุช

### ๐ผ๏ธ ุฅุฏุงุฑุฉ ุงูุตูุฑ
- **ุชุบููุฑ ุงูุตูุฑุฉ ุงูุดุฎุตูุฉ**: ุฑูุน ุตูุฑุฉ ุดุฎุตูุฉ ุฌุฏูุฏุฉ ูููุณุชุฎุฏู
- **ุชุบููุฑ ุตูุฑุฉ ุงูุจุฑููุงูู**: ุฑูุน ุตูุฑุฉ ุจุฑููุงูู ุฌุฏูุฏุฉ
- **ุชุบููุฑ ุตูุฑุฉ ุงูุบูุงู**: ุฑูุน ุตูุฑุฉ ุบูุงู ุฌุฏูุฏุฉ
- **ูุณุญ ุงูุตูุฑุฉ ุงูุดุฎุตูุฉ**: ุฅุนุงุฏุฉ ุชุนููู ุงูุตูุฑุฉ ุงูุดุฎุตูุฉ ููุงูุชุฑุงุถูุฉ
- **ูุณุญ ุตูุฑุฉ ุงูุจุฑููุงูู**: ุฅุฒุงูุฉ ุตูุฑุฉ ุงูุจุฑููุงูู
- **ูุณุญ ุตูุฑุฉ ุงูุบูุงู**: ุฅุฒุงูุฉ ุตูุฑุฉ ุงูุบูุงู

### ๐ ุงูุจุญุซ ูุงูุชุตูุญ
- ุงูุจุญุซ ุนู ุงููุณุชุฎุฏููู ุจุงูุงุณู
- ุงูุจุญุซ ุนู ุงููุณุชุฎุฏููู ุจุฑูู ุงููุนุฑู
- ุนุฑุถ ุฌููุน ุงููุณุชุฎุฏููู ูุน ุตูุฑูู
- ุชุฑููู ุงูุตูุญุงุช ููุชุตูุญ ุงูุณูู

### ๐ก๏ธ ุงูุฃูุงู
- ุงูุชุญูู ูู ุตูุงุญูุงุช ุงููุดุฑู
- ุชุณุฌูู ุฌููุน ุงูุนูููุงุช
- ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช

## ููุงุท ุงูููุงูุฉ API

### 1. ุฅุฏุงุฑุฉ ุตูุฑ ุงููุณุชุฎุฏู
```
PUT /api/users/admin/manage-user-image
```

**ุงููุนุงููุงุช ุงููุทููุจุฉ:**
- `targetUserId`: ูุนุฑู ุงููุณุชุฎุฏู ุงููุฏู
- `action`: ููุน ุงูุฅุฌุฑุงุก
- `imageData`: ุจูุงูุงุช ุงูุตูุฑุฉ (ููุชุบููุฑ ููุท)
- `imageType`: ููุน ุงูุตูุฑุฉ (ููุชุบููุฑ ููุท)

**ุฃููุงุน ุงูุฅุฌุฑุงุกุงุช:**
- `change_avatar`: ุชุบููุฑ ุงูุตูุฑุฉ ุงูุดุฎุตูุฉ
- `change_profile_image`: ุชุบููุฑ ุตูุฑุฉ ุงูุจุฑููุงูู
- `change_cover_image`: ุชุบููุฑ ุตูุฑุฉ ุงูุบูุงู
- `remove_avatar`: ูุณุญ ุงูุตูุฑุฉ ุงูุดุฎุตูุฉ
- `remove_profile_image`: ูุณุญ ุตูุฑุฉ ุงูุจุฑููุงูู
- `remove_cover_image`: ูุณุญ ุตูุฑุฉ ุงูุบูุงู

**ูุซุงู ููุงุณุชุฎุฏุงู:**
```javascript
// ูุณุญ ุงูุตูุฑุฉ ุงูุดุฎุตูุฉ
const response = await fetch('/api/users/admin/manage-user-image', {
  method: 'PUT',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': `Bearer ${token}`
  },
  body: JSON.stringify({
    targetUserId: 'user_id_here',
    action: 'remove_avatar'
  })
});

// ุชุบููุฑ ุงูุตูุฑุฉ ุงูุดุฎุตูุฉ
const response = await fetch('/api/users/admin/manage-user-image', {
  method: 'PUT',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': `Bearer ${token}`
  },
  body: JSON.stringify({
    targetUserId: 'user_id_here',
    action: 'change_avatar',
    imageData: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNkYPhfDwAChwGA60e6kgAAAABJRU5ErkJggg==',
    imageType: 'png'
  })
});
```

### 2. ุฌูุจ ูุนูููุงุช ุตูุฑ ุงููุณุชุฎุฏู
```
GET /api/users/admin/user-images/:userId
```

**ูุซุงู ููุงุณุชุฎุฏุงู:**
```javascript
const response = await fetch(`/api/users/admin/user-images/${userId}`, {
  headers: {
    'Authorization': `Bearer ${token}`
  }
});

const data = await response.json();
console.log(data.user.images);
```

## ุงููุงุฌูุฉ ุงูุฃูุงููุฉ

### ุตูุญุฉ ุฅุฏุงุฑุฉ ุงูุตูุฑ
- **ุงูููู**: `frontend/admin-user-images.html`
- **ุงููุตู**: ูุงุฌูุฉ ุดุงููุฉ ูุฅุฏุงุฑุฉ ุตูุฑ ุฌููุน ุงููุณุชุฎุฏููู

### ุงูููุฒุงุช:
1. **ุนุฑุถ ุงููุณุชุฎุฏููู**: ุจุทุงูุงุช ุชุนุฑุถ ูุนูููุงุช ุงููุณุชุฎุฏู ูุตูุฑู ุงูุญุงููุฉ
2. **ุงูุจุญุซ**: ุงูุจุญุซ ุจุงูุงุณู ุฃู ุฑูู ุงููุนุฑู
3. **ุฅุฏุงุฑุฉ ุงูุตูุฑ**: ูุงูุฐุฉ ููุจุซูุฉ ูุฅุฏุงุฑุฉ ุตูุฑ ูู ูุณุชุฎุฏู
4. **ูุนุงููุฉ ุงูุตูุฑ**: ุนุฑุถ ุงูุตูุฑ ุงูุญุงููุฉ ูุจู ุงูุชุบููุฑ
5. **ุฑูุน ุงูุตูุฑ**: ุฏุนู ุฑูุน ูููุงุช ุงูุตูุฑ
6. **ุงูุชุญูู ูู ุงูุตุญุฉ**: ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช ูุจู ุงูุฅุฑุณุงู

## ุงูุงุณุชุฎุฏุงู

### 1. ุงููุตูู ููุตูุญุฉ
```
http://your-domain.com/frontend/admin-user-images.html
```

### 2. ุชุณุฌูู ุงูุฏุฎูู ููุฏูุฑ
ูุฌุจ ุชุณุฌูู ุงูุฏุฎูู ุจุญุณุงุจ ูุดุฑู ูููุตูู ูููุธุงุฆู.

### 3. ุงูุจุญุซ ุนู ุงููุณุชุฎุฏู
- ุงุณุชุฎุฏู ุญูู ุงูุจุญุซ ููุจุญุซ ุจุงูุงุณู
- ุฃู ุงุณุชุฎุฏู ุญูู ุงูุจุญุซ ุจุงููุนุฑู ููุจุญุซ ุจุฑูู ุงููุนุฑู

### 4. ุฅุฏุงุฑุฉ ุงูุตูุฑ
1. ุงููุฑ ุนูู ุฒุฑ "ุฅุฏุงุฑุฉ" ุจุฌุงูุจ ุฃู ูุณุชุฎุฏู
2. ุงุฎุชุฑ ููุน ุงูุฅุฌุฑุงุก ูู ุงููุงุฆูุฉ ุงูููุณุฏูุฉ
3. ุฅุฐุง ููุช ุชุบูุฑ ุตูุฑุฉุ ุงุฎุชุฑ ุงูููู ุงูุฌุฏูุฏ
4. ุงููุฑ ุนูู "ุญูุธ ุงูุชุบููุฑุงุช"

## ุงูุฃูุงู

### ุงูุชุญูู ูู ุงูุตูุงุญูุงุช
```javascript
// ุงูุชุญูู ูู ุฃู ุงููุณุชุฎุฏู ูุดุฑู
const currentUser = await User.findById(req.user.userId);
if (!currentUser || !currentUser.isAdmin) {
  return res.status(403).json({ error: 'ุบูุฑ ูุตุฑุญ ูู ุจูุฐุง ุงูุฅุฌุฑุงุก' });
}
```

### ุชุณุฌูู ุงูุนูููุงุช
```javascript
console.log(`๐ผ๏ธ ุงููุดุฑู ${currentUser.username} ${action} ูููุณุชุฎุฏู ${targetUser.username}`);
```

### ุงูุชุญูู ูู ุงูุจูุงูุงุช
- ุงูุชุญูู ูู ูุฌูุฏ ุงููุณุชุฎุฏู ุงููุฏู
- ุงูุชุญูู ูู ุตุญุฉ ููุน ุงูุฅุฌุฑุงุก
- ุงูุชุญูู ูู ูุฌูุฏ ุจูุงูุงุช ุงูุตูุฑุฉ ุนูุฏ ุงูุชุบููุฑ

## ุงูุงุฎุชุจุงุฑ

### ุชุดุบูู ุงูุงุฎุชุจุงุฑุงุช
```bash
npm run test-admin-user-images
```

### ุงุฎุชุจุงุฑุงุช ุดุงููุฉ
1. **ุชุณุฌูู ุฏุฎูู ุงููุดุฑู**
2. **ุฅูุดุงุก ูุณุชุฎุฏู ุงุฎุชุจุงุฑ**
3. **ุฌูุจ ูุนูููุงุช ุงูุตูุฑ**
4. **ูุณุญ ุงูุตูุฑ ุงููุฎุชููุฉ**
5. **ุชุบููุฑ ุงูุตูุฑ**
6. **ุงุฎุชุจุงุฑ ุงูุฃุฎุทุงุก**

## ุงูุฃุฎุทุงุก ุงููุญุชููุฉ

### 403 Forbidden
- ุงููุณุชุฎุฏู ููุณ ูุดุฑู
- ุฑูุฒ ุงููุตุงุฏูุฉ ุบูุฑ ุตุญูุญ

### 404 Not Found
- ุงููุณุชุฎุฏู ุงููุฏู ุบูุฑ ููุฌูุฏ

### 400 Bad Request
- ุจูุงูุงุช ููููุฏุฉ ุฃู ุบูุฑ ุตุญูุญุฉ
- ุฅุฌุฑุงุก ุบูุฑ ุตุญูุญ
- ุจูุงูุงุช ุงูุตูุฑุฉ ููููุฏุฉ ุนูุฏ ุงูุชุบููุฑ

### 500 Internal Server Error
- ุฎุทุฃ ูู ุงูุฎุงุฏู
- ุฎุทุฃ ูู ุญูุธ ุงูุตูุฑุฉ

## ุงูุชุทููุฑ ุงููุณุชูุจูู

### ููุฒุงุช ููุชุฑุญุฉ
1. **ุฏุนู ุงููุฒูุฏ ูู ุฃููุงุน ุงูุตูุฑ**: WebP, AVIF
2. **ุถุบุท ุงูุตูุฑ**: ุชูููู ุญุฌู ุงูุตูุฑ ุชููุงุฆูุงู
3. **ูุต ุงูุตูุฑ**: ุฅููุงููุฉ ูุต ุงูุตูุฑ ููููุงุณุงุช ุงููุทููุจุฉ
4. **ูุณุฎ ุงุญุชูุงุทู**: ุญูุธ ูุณุฎุฉ ูู ุงูุตูุฑุฉ ุงููุฏููุฉ
5. **ุชุงุฑูุฎ ุงูุชุบููุฑุงุช**: ุชุชุจุน ุชุงุฑูุฎ ุชุบููุฑุงุช ุงูุตูุฑ
6. **ุฅุดุนุงุฑุงุช**: ุฅุฑุณุงู ุฅุดุนุงุฑ ูููุณุชุฎุฏู ุนูุฏ ุชุบููุฑ ุตูุฑู

### ุชุญุณููุงุช ุชูููุฉ
1. **ุฎุฏูุฉ ุญูุธ ุงูุตูุฑ**: ุงุณุชุฎุฏุงู Cloudinary ุฃู AWS S3
2. **ูุนุงูุฌุฉ ุงูุตูุฑ**: ุงุณุชุฎุฏุงู Sharp ุฃู Jimp
3. **CDN**: ุงุณุชุฎุฏุงู ุดุจูุฉ ุชูุตูู ุงููุญุชูู ููุตูุฑ
4. **ุชุญุณูู ุงูุฃุฏุงุก**: ุชุฎุฒูู ูุคูุช ููุตูุฑ

## ุงูุฏุนู

ูููุณุงุนุฏุฉ ุฃู ุงูุฅุจูุงุบ ุนู ูุดุงูู:
1. ุชุญูู ูู ุณุฌูุงุช ุงูุฎุงุฏู
2. ุชุดุบูู ุงุฎุชุจุงุฑุงุช ุงููุธุงู
3. ูุฑุงุฌุนุฉ ููู ุงูุชูุซูู
4. ุงูุชูุงุตู ูุน ูุฑูู ุงูุชุทููุฑ 