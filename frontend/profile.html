<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; connect-src 'self' https://voiceboom-backend.onrender.com wss: ws:;">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Voice Boom">
    <meta name="theme-color" content="#002A1B">
    <meta name="msapplication-TileColor" content="#002A1B">
    <meta name="msapplication-navbutton-color" content="#002A1B">
    <title>ุงูุจุฑููุงูู - INFINITY BOX VOICEBOOM</title>
    <link rel="stylesheet" href="profile-styles.css">
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="logo.png">
    <script src="js/userIdHelper.js"></script>
</head>
<body>
    <div class="container">
        <!-- ุดุฑูุท ุงูุชููู -->
        <nav class="navbar">
            <div class="nav-left">
                <button class="nav-btn" data-action="goBack">โ ุฑุฌูุน</button>
            </div>
            <div class="nav-center">
                <h1>ุงูุจุฑููุงูู</h1>
            </div>
            <div class="nav-right">
                <button class="nav-btn" data-action="openSettings">โ๏ธ</button>
            </div>
        </nav>

        <!-- ูุนูููุงุช ุงูุจุฑููุงูู ุงูุฃุณุงุณูุฉ -->
        <div class="profile-header">
            <div class="profile-avatar">
                <img id="user-avatar" src="images/hero.png" alt="ุงูุตูุฑุฉ ุงูุดุฎุตูุฉ">
                <div id="user-id" class="user-id-display"></div>
                <button class="edit-avatar-btn" data-action="editProfileImage">๐ท</button>
                <div class="online-status" id="online-status"></div>
            </div>
            <div class="profile-info">
                <h2 id="display-name">ุงุณู ุงููุณุชุฎุฏู</h2>
                <p id="user-bio">ูุฑุญุจุงู! ุฃูุง ูุงุนุจ ูู VoiceBoom ๐ฎ</p>
                <div class="profile-details">
                    <span class="detail" id="user-age"></span>
                    <span class="detail" id="user-country"></span>
                    <span class="detail" id="user-gender"></span>
                </div>
                <div class="profile-stats">
                    <span class="stat">
                        <strong id="user-level">1</strong>
                        <small>ุงููุณุชูู</small>
                    </span>
                    <span class="stat">
                        <strong id="friends-count">0</strong>
                        <small>ุงูุฃุตุฏูุงุก</small>
                    </span>
                    <span class="stat">
                        <strong id="games-played">0</strong>
                        <small>ุงููุนุจุงุช</small>
                    </span>
                </div>
            </div>
        </div>

        <!-- ุฃุฒุฑุงุฑ ุงูุฅุฌุฑุงุกุงุช -->
        <div class="action-buttons" id="action-buttons">
            <button class="btn primary" data-action="editProfile">ุชุนุฏูู ุงูุจุฑููุงูู</button>
            <button class="btn secondary" data-action="viewStats">ุงูุฅุญุตุงุฆูุงุช</button>
            <button class="btn secondary" data-action="viewFriends">ุงูุฃุตุฏูุงุก</button>
            <button class="btn secondary" onclick="window.open('admin-user-ids.html', '_blank')">๐ง ุฅุฏุงุฑุฉ ุงููุนุฑูุงุช</button>
        </div>

        <!-- ุงูุชุจููุจุงุช -->
        <div class="tabs">
            <button class="tab-button active" data-tab="overview">ูุธุฑุฉ ุนุงูุฉ</button>
            <button class="tab-button" data-tab="stats">ุงูุฅุญุตุงุฆูุงุช</button>
            <button class="tab-button" data-tab="friends">ุงูุฃุตุฏูุงุก</button>
            <button class="tab-button" data-tab="achievements">ุงูุฅูุฌุงุฒุงุช</button>
            <button class="tab-button" data-tab="settings">ุงูุฅุนุฏุงุฏุงุช</button>
        </div>

        <!-- ูุญุชูู ุงูุชุจููุจุงุช -->
        <div class="tab-content">
            <!-- ุชุจููุจ ุงููุธุฑุฉ ุงูุนุงูุฉ -->
            <div id="overview" class="tab-panel active">
                <div class="overview-grid">
                    <div class="card">
                        <h3>๐ค ูุนูููุงุช ุดุฎุตูุฉ</h3>
                        <div class="personal-info">
                            <div class="info-item">
                                <span class="info-label">ุงูุงุณู ุงููุนุฑูุถ:</span>
                                <span class="info-value" id="overview-display-name">-</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">ุงูุนูุฑ:</span>
                                <span class="info-value" id="overview-age">-</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">ุงูุฌูุณ:</span>
                                <span class="info-value" id="overview-gender">-</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">ุงูุจูุฏ:</span>
                                <span class="info-value" id="overview-country">-</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">ุงูููุทูุฉ ุงูุฒูููุฉ:</span>
                                <span class="info-value" id="overview-timezone">-</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">ุชุงุฑูุฎ ุงูุงูุถูุงู:</span>
                                <span class="info-value" id="overview-join-date">-</span>
                            </div>
                        </div>
                        <div class="interests-section" id="interests-section" style="display: none;">
                            <h4>ุงูุงูุชูุงูุงุช</h4>
                            <div class="interests-tags" id="interests-tags"></div>
                        </div>
                        <div class="games-section" id="games-section" style="display: none;">
                            <h4>ุงูุฃูุนุงุจ ุงูููุถูุฉ</h4>
                            <div class="games-tags" id="games-tags"></div>
                        </div>
                        <div class="social-links" id="social-links" style="display: none;">
                            <h4>ุฑูุงุจุท ุงูุชูุงุตู ุงูุงุฌุชูุงุนู</h4>
                            <div class="social-icons" id="social-icons"></div>
                        </div>
                    </div>

                    <div class="card">
                        <h3>๐ฎ ุฅุญุตุงุฆูุงุช ุงููุนุจ</h3>
                        <div class="stats-grid">
                            <div class="stat-item">
                                <span class="stat-value" id="total-score">0</span>
                                <span class="stat-label">ูุฌููุน ุงูููุงุท</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-value" id="high-score">0</span>
                                <span class="stat-label">ุฃุนูู ูุชูุฌุฉ</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-value" id="win-rate">0%</span>
                                <span class="stat-label">ูุนุฏู ุงูููุฒ</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-value" id="avg-score">0</span>
                                <span class="stat-label">ูุชูุณุท ุงูููุงุท</span>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <h3>๐ฏ ุฅุญุตุงุฆูุงุช ุงูุฃุณูุญุฉ</h3>
                        <div class="weapons-stats">
                            <div class="weapon-stat">
                                <span class="weapon-name">ุทููุฉ ูุงุญุฏุฉ</span>
                                <span class="weapon-count" id="single-shots">0</span>
                            </div>
                            <div class="weapon-stat">
                                <span class="weapon-name">ุทููุฉ ุซูุงุซูุฉ</span>
                                <span class="weapon-count" id="triple-shots">0</span>
                            </div>
                            <div class="weapon-stat">
                                <span class="weapon-name">ูุทุฑูุฉ</span>
                                <span class="weapon-count" id="hammer-shots">0</span>
                            </div>
                            <div class="weapon-stat">
                                <span class="weapon-name">ุงูุฏูุฉ</span>
                                <span class="weapon-count" id="accuracy">0%</span>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <h3>๐ ุงูุนูุงุตุฑ ุงููุฌูุนุฉ</h3>
                        <div class="items-grid">
                            <div class="item">
                                <span class="item-icon">๐</span>
                                <span class="item-count" id="gems-count">0</span>
                                <span class="item-name">ุงูุฌูุงูุฑ</span>
                            </div>
                            <div class="item">
                                <span class="item-icon">๐</span>
                                <span class="item-count" id="keys-count">0</span>
                                <span class="item-name">ุงูููุงุชูุญ</span>
                            </div>
                            <div class="item">
                                <span class="item-icon">๐ช</span>
                                <span class="item-count" id="coins-count">0</span>
                                <span class="item-name">ุงูุนููุงุช</span>
                            </div>
                            <div class="item">
                                <span class="item-icon">๐ฆ</span>
                                <span class="item-count" id="bats-hit">0</span>
                                <span class="item-name">ุงูุฎูุงููุด</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ุชุจููุจ ุงูุฅุญุตุงุฆูุงุช -->
            <div id="stats" class="tab-panel">
                <div class="stats-container">
                    <div class="card">
                        <h3>๐ ุฅุญุตุงุฆูุงุช ููุตูุฉ</h3>
                        <div class="detailed-stats">
                            <div class="stat-row">
                                <span class="stat-label">ุฅุฌูุงูู ุงูููุงุท</span>
                                <span class="stat-value" id="detailed-score">0</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">ุงููุขูุฆ</span>
                                <span class="stat-value" id="detailed-pearls">0</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">ุงูุตูุงุฏูู ุงูููุชูุญุฉ</span>
                                <span class="stat-value" id="detailed-boxes">0</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">ุงููุนุจุงุช ุงูููุชููุฉ</span>
                                <span class="stat-value" id="detailed-games">0</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">ุงูุงูุชุตุงุฑุงุช</span>
                                <span class="stat-value" id="detailed-wins">0</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">ููุช ุงููุนุจ ุงูุฅุฌูุงูู</span>
                                <span class="stat-value" id="detailed-playtime">0 ุฏูููุฉ</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ุชุจููุจ ุงูุฃุตุฏูุงุก -->
            <div id="friends" class="tab-panel">
                <div class="friends-container">
                    <div class="friends-header">
                        <h3>๐ฅ ุงูุฃุตุฏูุงุก</h3>
                        <div class="search-container">
                            <input type="text" id="friends-search-input" placeholder="ุงุจุญุซ ุจุงูุงุณู ุฃู ุงููุนุฑู..." class="search-input">
                            <button class="btn small" data-action="searchUsers">ุงูุจุญุซ</button>
                            <button class="btn small primary" data-action="openSearchModal">๐ ุจุญุซ ูุชูุฏู</button>
                        </div>
                    </div>
                    
                    <div class="friends-tabs">
                        <button class="friend-tab active" data-friend-tab="friends">ุงูุฃุตุฏูุงุก</button>
                        <button class="friend-tab" data-friend-tab="requests">ุทูุจุงุช ุงูุตุฏุงูุฉ</button>
                        <button class="friend-tab" data-friend-tab="blocked">ุงููุญุธูุฑูู</button>
                    </div>

                    <div class="friends-content">
                        <!-- ูุงุฆูุฉ ุงูุฃุตุฏูุงุก -->
                        <div id="friends-list" class="friend-panel active">
                            <div class="friends-grid" id="friends-grid">
                                <!-- ุณูุชู ููุคูุง ุจุงูุฌุงูุง ุณูุฑูุจุช -->
                            </div>
                        </div>

                        <!-- ุทูุจุงุช ุงูุตุฏุงูุฉ -->
                        <div id="friend-requests" class="friend-panel">
                            <div class="requests-list" id="requests-list">
                                <!-- ุณูุชู ููุคูุง ุจุงูุฌุงูุง ุณูุฑูุจุช -->
                            </div>
                        </div>

                        <!-- ุงููุณุชุฎุฏููู ุงููุญุธูุฑูู -->
                        <div id="blocked-users" class="friend-panel">
                            <div class="blocked-list" id="blocked-list">
                                <!-- ุณูุชู ููุคูุง ุจุงูุฌุงูุง ุณูุฑูุจุช -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ุชุจููุจ ุงูุฅูุฌุงุฒุงุช -->
            <div id="achievements" class="tab-panel">
                <div class="achievements-container">
                    <div class="achievements-header">
                        <h3>๐ ุงูุฅูุฌุงุฒุงุช</h3>
                        <div class="achievement-progress">
                            <span id="achievements-unlocked">0</span> / <span id="achievements-total">0</span>
                        </div>
                    </div>
                    
                    <div class="achievements-grid" id="achievements-grid">
                        <!-- ุณูุชู ููุคูุง ุจุงูุฌุงูุง ุณูุฑูุจุช -->
                    </div>
                </div>
            </div>

            <!-- ุชุจููุจ ุงูุฅุนุฏุงุฏุงุช -->
            <div id="settings" class="tab-panel">
                <div class="settings-container">
                    <div class="card">
                        <h3>๐ ุฅุนุฏุงุฏุงุช ุงูุฎุตูุตูุฉ</h3>
                        <div class="setting-item">
                            <label>
                                <input type="checkbox" id="show-profile" checked>
                                ุฅุธูุงุฑ ุงูุจุฑููุงูู ููุขุฎุฑูู
                            </label>
                        </div>
                        <div class="setting-item">
                            <label>
                                <input type="checkbox" id="show-stats" checked>
                                ุฅุธูุงุฑ ุงูุฅุญุตุงุฆูุงุช ููุขุฎุฑูู
                            </label>
                        </div>
                        <div class="setting-item">
                            <label>
                                <input type="checkbox" id="allow-friend-requests" checked>
                                ุงูุณูุงุญ ุจุทูุจุงุช ุงูุตุฏุงูุฉ
                            </label>
                        </div>
                        <div class="setting-item">
                            <label>
                                <input type="checkbox" id="allow-messages" checked>
                                ุงูุณูุงุญ ุจุงูุฑุณุงุฆู
                            </label>
                        </div>
                    </div>

                    <div class="card">
                        <h3>๐ ุฅุนุฏุงุฏุงุช ุงูุฅุดุนุงุฑุงุช</h3>
                        <div class="setting-item">
                            <label>
                                <input type="checkbox" id="notify-friend-requests" checked>
                                ุฅุดุนุงุฑุงุช ุทูุจุงุช ุงูุตุฏุงูุฉ
                            </label>
                        </div>
                        <div class="setting-item">
                            <label>
                                <input type="checkbox" id="notify-messages" checked>
                                ุฅุดุนุงุฑุงุช ุงูุฑุณุงุฆู
                            </label>
                        </div>
                        <div class="setting-item">
                            <label>
                                <input type="checkbox" id="notify-game-invites" checked>
                                ุฅุดุนุงุฑุงุช ุฏุนูุงุช ุงููุนุจ
                            </label>
                        </div>
                        <div class="setting-item">
                            <label>
                                <input type="checkbox" id="notify-achievements" checked>
                                ุฅุดุนุงุฑุงุช ุงูุฅูุฌุงุฒุงุช
                            </label>
                        </div>
                    </div>

                    <div class="card">
                        <h3>๐ฎ ุฅุนุฏุงุฏุงุช ุงููุนุจุฉ</h3>
                        <div class="setting-item">
                            <label>
                                <input type="checkbox" id="sound-enabled" checked>
                                ุชูุนูู ุงูุฃุตูุงุช
                            </label>
                        </div>
                        <div class="setting-item">
                            <label>
                                <input type="checkbox" id="music-enabled" checked>
                                ุชูุนูู ุงูููุณููู
                            </label>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ุงูููุงูุฐ ุงูููุจุซูุฉ -->
    <div id="edit-profile-modal" class="modal-overlay hidden">
        <div class="modal-content large">
            <button class="modal-close" data-action="closeModal" data-modal="edit-profile-modal">ร</button>
            <h3>ุชุนุฏูู ุงูุจุฑููุงูู</h3>
            <form id="edit-profile-form">
                <div class="form-section">
                    <h4>ุงููุนูููุงุช ุงูุฃุณุงุณูุฉ</h4>
                    <div class="form-group">
                        <label for="edit-display-name">ุงุณู ุงูุนุฑุถ</label>
                        <input type="text" id="edit-display-name" placeholder="ุงุณู ุงูุนุฑุถ" maxlength="50">
                    </div>
                    <div class="form-group">
                        <label for="edit-bio">ูุจุฐุฉ ุดุฎุตูุฉ</label>
                        <textarea id="edit-bio" placeholder="ุงูุชุจ ูุจุฐุฉ ุนู ููุณู" rows="3" maxlength="500"></textarea>
                        <small class="char-count">0/500</small>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="edit-age">ุงูุนูุฑ</label>
                            <input type="number" id="edit-age" placeholder="ุงูุนูุฑ" min="13" max="100">
                        </div>
                        <div class="form-group">
                            <label for="edit-gender">ุงูุฌูุณ</label>
                            <select id="edit-gender">
                                <option value="prefer-not-to-say">ุฃูุถู ุนุฏู ุงูุฅูุตุงุญ</option>
                                <option value="male">ุฐูุฑ</option>
                                <option value="female">ุฃูุซู</option>
                                <option value="other">ุขุฎุฑ</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="edit-country">ุงูุจูุฏ</label>
                            <input type="text" id="edit-country" placeholder="ุจูุฏู">
                        </div>
                        <div class="form-group">
                            <label for="edit-timezone">ุงูููุทูุฉ ุงูุฒูููุฉ</label>
                            <input type="text" id="edit-timezone" placeholder="ุงูููุทูุฉ ุงูุฒูููุฉ">
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h4>ุงูุงูุชูุงูุงุช ูุงูุฃูุนุงุจ</h4>
                    <div class="form-group">
                        <label for="edit-interests">ุงูุงูุชูุงูุงุช</label>
                        <input type="text" id="edit-interests" placeholder="ุงูุชุจ ุงูุชูุงูุงุชู ููุตููุฉ ุจููุงุตู">
                        <small>ูุซุงู: ุฃูุนุงุจุ ููุณูููุ ุฑูุงุถุฉ</small>
                    </div>
                    <div class="form-group">
                        <label for="edit-favorite-games">ุงูุฃูุนุงุจ ุงูููุถูุฉ</label>
                        <input type="text" id="edit-favorite-games" placeholder="ุงูุชุจ ุฃูุนุงุจู ุงูููุถูุฉ ููุตููุฉ ุจููุงุตู">
                        <small>ูุซุงู: VoiceBoomุ PUBGุ Fortnite</small>
                    </div>
                </div>

                <div class="form-section">
                    <h4>ุฑูุงุจุท ุงูุชูุงุตู ุงูุงุฌุชูุงุนู</h4>
                    <div class="form-group">
                        <label for="edit-discord">Discord</label>
                        <input type="text" id="edit-discord" placeholder="ุงุณู ุงููุณุชุฎุฏู ูู Discord">
                    </div>
                    <div class="form-group">
                        <label for="edit-twitter">Twitter</label>
                        <input type="text" id="edit-twitter" placeholder="ุงุณู ุงููุณุชุฎุฏู ูู Twitter">
                    </div>
                    <div class="form-group">
                        <label for="edit-instagram">Instagram</label>
                        <input type="text" id="edit-instagram" placeholder="ุงุณู ุงููุณุชุฎุฏู ูู Instagram">
                    </div>
                    <div class="form-group">
                        <label for="edit-youtube">YouTube</label>
                        <input type="text" id="edit-youtube" placeholder="ุฑุงุจุท ููุงุฉ YouTube">
                    </div>
                </div>

                <div class="form-section">
                    <h4>ุฅุนุฏุงุฏุงุช ุงูุจุญุซ ูุงูุฎุตูุตูุฉ</h4>
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="edit-searchable" checked>
                            ุงูุณูุงุญ ุจุงูุจุญุซ ุนูู
                        </label>
                    </div>
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="edit-show-in-search" checked>
                            ุงูุธููุฑ ูู ูุชุงุฆุฌ ุงูุจุญุซ
                        </label>
                    </div>
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="edit-allow-friend-requests" checked>
                            ุงูุณูุงุญ ุจุทูุจุงุช ุงูุตุฏุงูุฉ
                        </label>
                    </div>
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="edit-allow-messages" checked>
                            ุงูุณูุงุญ ุจุงูุฑุณุงุฆู
                        </label>
                    </div>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn secondary" data-action="closeModal" data-modal="edit-profile-modal">ุฅูุบุงุก</button>
                    <button type="submit" class="btn primary">ุญูุธ ุงูุชุบููุฑุงุช</button>
                </div>
            </form>
        </div>
    </div>

    <!-- ูุงูุฐุฉ ุฑูุน ุงูุตูุฑ -->
    <div id="upload-image-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <button class="modal-close" data-action="closeModal" data-modal="upload-image-modal">ร</button>
            <h3 id="upload-image-title">ุฑูุน ุตูุฑุฉ</h3>
            <div class="upload-container">
                <div class="upload-area" id="upload-area">
                    <div class="upload-placeholder">
                        <span class="upload-icon">๐ท</span>
                        <p>ุงุถุบุท ููุง ูุงุฎุชูุงุฑ ุตูุฑุฉ ุฃู ุงุณุญุจ ุงูุตูุฑุฉ ููุง</p>
                        <small>ุงูุญุฏ ุงูุฃูุตู: 5MB | ุงูุตูุบ ุงููุฏุนููุฉ: JPG, PNG, GIF</small>
                    </div>
                    <input type="file" id="image-input" accept="image/*" style="display: none;">
                </div>
                <div class="image-preview" id="image-preview" style="display: none;">
                    <img id="preview-image" src="" alt="ูุนุงููุฉ ุงูุตูุฑุฉ">
                    <div class="preview-actions">
                        <button type="button" class="btn secondary" data-action="resetImageUpload">ุฅุนุงุฏุฉ ุงุฎุชูุงุฑ</button>
                        <button type="button" class="btn primary" data-action="uploadImage">ุฑูุน ุงูุตูุฑุฉ</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="search-users-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <button class="modal-close" data-action="closeModal" data-modal="search-users-modal">ร</button>
            <h3>๐ ุงูุจุญุซ ุนู ูุณุชุฎุฏููู</h3>
            <div class="search-container">
                <input type="text" id="search-input" placeholder="ุงุจุญุซ ุจุงูุงุณู ุฃู ุงููุนุฑู (ูุซู: 111ุ 222ุ 333)..." data-action="searchUsersRealTime">
                <div class="search-tips">
                    <small>๐ก ููููู ุงูุจุญุซ ุจุงูุงุณู ุฃู ุงููุนุฑู ุงูุฑููู</small>
                </div>
                <div class="search-results" id="search-results">
                    <!-- ูุชุงุฆุฌ ุงูุจุญุซ -->
                </div>
            </div>
        </div>
    </div>

    <script src="profile.js"></script>
</body>
</html> 